<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mycompany.javajavajo.dao.QnaDao">
	
	<insert id="insertBoard" parameterType="Qna">
	<!-- dto의 qnano에 시퀀스 번호를 qnano에 넣어줌 -->
	<selectKey keyProperty="qnano" order="BEFORE" resultType="int"> 
			select qna_seq.nextval from dual 
	</selectKey>
		insert into qna (qnano, memno, qnacontent, qnatitle, qnadate, qnahitcnt)
		values(#{qnano}, #{memno}, #{qnacontent}, #{qnatitle}, sysdate, 0)
	</insert>
	

	<select id="selectByQnano" parameterType="int" resultType="Qna">
		select qnano, memno, qnatitle, qnacontent, qnadate, qnahitcnt
		from qna
		where qnano = #{qnano}
	</select>

<!-- 리스트로 받아야 하지만 교수님이 그냥 Qna dto로받으라고 하심 -->
	<select id="selectQnaList" resultType="Qna">
		select *
		from qna
	</select>


</mapper>