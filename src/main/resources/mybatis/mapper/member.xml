<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mycompany.javajavajo.dao.MemberDao">

	<select id="selectByMid" parameterType="String" resultType="Member">
		select memno, memid, mempw, memname, memnicknm, mememail, memtel, mempoint, memdate, memrole, memenabled
		from member
		where memid = #{memid}
	</select>
	
	<insert id="insert" parameterType="Member">
	<selectKey keyProperty="memno" order="BEFORE" resultType="int"> 
			select member_seq.nextval from dual 
	</selectKey>
		insert into member (memno, memid, mempw, memname, memnicknm, mememail, memtel, mempoint, memdate, memrole)
		values(#{memno}, #{memid}, #{mempw}, #{memname}, #{memnicknm}, #{mememail}, #{memtel}, 0, sysdate, 'ROLE_USER')
	</insert>
	
	<select id="selectByMemno" parameterType="int" resultType="Member">
		select memno, memid
		from member
		where memno = #{memno}
	</select>
	
	<select id="selectByMemnoMemImg" parameterType="int" resultType="Member">
		select memimg, memimgtype, memimgoname
		from member
		where memno = #{memno}
	</select>
	
</mapper>